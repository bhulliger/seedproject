// ############################################################################
// Source Sets
// ############################################################################
sourceSets {
	integrationTest {
        java.srcDir 'src/integrationTest/java'
        resources.srcDir 'src/integrationTest/resources'
    }   
}

// ############################################################################
// Task definition for Integration Tests
// ############################################################################
task integrationTest(type: Test) {
	description 'Run the integration tests (long running tests and tests with external resources)'
	group = 'verification'

	testClassesDir = sourceSets.integrationTest.output.classesDir
	classpath = sourceSets.integrationTest.runtimeClasspath

	reports {
		junitXml {
			destination = file("$reportsDir/integration")
		}
	}
}
// ############################################################################
// Database integration tests
// ############################################################################
// apply from: "$rootDir/gradle/databaseSetup.gradle"

// integTest.dependsOn startAndPrepareDatabase
// stopDatabase.dependsOn integTest

// task databaseIntegrationTest(dependsOn: stopDatabase)

// integrate task into build lifecycle
// check.dependsOn databaseIntegrationTests
