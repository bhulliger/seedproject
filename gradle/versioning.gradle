ext.buildTimestamp = new Date().format('dd.MM.yyyy HH:mm')
version = new ProjectVersion(1, 0, 0, System.env.SOURCE_BUILD_NUMBER, false)

class ProjectVersion {
	Integer major
	Integer minor
	Integer patch
	String build
	boolean isRelease

	ProjectVersion(Integer major, Integer minor, Integer patch, String build, boolean isRelease) {
		this.major = major
		this.minor = minor
		this.patch = patch
		this.build = build
		this.isRelease = isRelease
	}

	@Override
	String toString() {	
		String fullVersion = "$major.$minor.$patch"
 	
		if(build) {
			fullVersion += ".$build"	
		} else if (isRelease) {
			fullVersion += '.Final'
		} else {
			fullVersion += '-SNAPSHOT'
		}
 	
		fullVersion
	}	
}	
